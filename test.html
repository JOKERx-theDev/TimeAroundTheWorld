<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="date" name="now" id="now" style="display: none;">
    <input type="date" name="birth" id="birth">

    <button class="button">Find Difference</button>
    <script>
        let button = document.querySelector('.button')
        button.addEventListener('click',()=>{
            let birth = document.getElementById('birth').value
            let date1 = new Date()
            let year = date1.getFullYear()
            let month = date1.getMonth()+1
            let date = date1.getDate()
            if (month<10){
                month = '0'+month
            }
            if (date<10){
                date = '0'+date
            }
            let fullYear = year + "-" + month + "-" + date
            let now = document.getElementById('now').value = fullYear
            const date2 = new Date(birth)
            const time = Math.abs(date1-date2)
            const days = Math.ceil(time / (1000 * 60 * 60 *24))
            console.log(days)
            document.getElementById('birth').setAttribute("max", now)



            let currentYear = new Date(date2).getFullYear()
            console.log(currentYear)
        })
    </script>
</body>
</html>